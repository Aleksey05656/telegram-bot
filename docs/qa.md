# qa.md — Вопросы по архитектуре и требованиям

## Данные и источники
1. Нужно ли расширять список лиг помимо EPL, La Liga, Bundesliga, Serie A, Ligue 1?
2. Достаточна ли глубина исторических данных: 5 сезонов (с 2018/19)?
3. Стабильность xG/xGA по всем поддерживаемым лигам в SportMonks?
4. SLA обновления составов/травм (до матча/в день матча)?
5. Храним внешние odds для value? Источники/частота?

## Модель
5. Калибровщики per-market/per-league?
6. Монотонные ограничения для фич модификаторов?
7. Допустимый диапазон мультипликаторов (сейчас 0.7–1.4)?
8. HFA per-team или общий по лиге?

## Качество и мониторинг
9. Цели ECE/LogLoss на hold-out?
10. Нужны A/B по форматам рекомендаций/порогам value?
11. Где хранить недельные отчёты (S3/диск/БД)?

## Хранилища и производительность
12. Партиционирование по сезону/месяцу?
13. Ожидаемый QPS и число одновременных прогнозов?
14. Нужен read-replica для PostgreSQL?

## Безопасность и комплаенс
15. Аудит действий админов (переобучения/конфиги)?
16. Гео-фильтрация и подтверждение 18+ в /terms?

## CI/CD и процессы
17. Где живут секреты (Vault/ENV/CI secrets)?
18. Формат версий модели `vYYYY.MM.DD_buildNNN`?
19. Среды dev/stage/prod; нужны «теневые» релизы модели?

## UX/Продукт
20. «Детальный режим» с вкладом модификаторов для продвинутых пользователей?

## Offline QA stubs

В офлайн-режиме используйте:

- `USE_OFFLINE_STUBS=1 QA_STUB_SSL=1 make safe-import`
- `USE_OFFLINE_STUBS=1 QA_STUB_SSL=1 make api-selftest`

Для полноценного прогона без стабов заранее положите готовые колёса в `wheels/` и выполните `make qa-deps`.
